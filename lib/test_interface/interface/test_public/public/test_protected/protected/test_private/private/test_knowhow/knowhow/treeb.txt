#include <stdio.h>
#include <stdlib.h>

typedef struct BTreeNode {
    int *keys;
    int t;
    struct BTreeNode **children;
    int n;
    int leaf;
} BTreeNode;

BTreeNode *createNode(int t, int leaf) {
    BTreeNode *node = (BTreeNode *)malloc(sizeof(BTreeNode));
    node-&gt;t = t;
    node-&gt;leaf = leaf;
    node-&gt;keys = (int *)malloc((2 * t - 1) * sizeof(int));
    node-&gt;children = (BTreeNode **)malloc(2 * t * sizeof(BTreeNode *));
    node-&gt;n = 0;
    return node;
}

void traverse(BTreeNode *root) {
    if (root != NULL) {
        int i;
        for (i = 0; i &lt; root-&gt;n; i++) {
            if (!root-&gt;leaf) {
                traverse(root-&gt;children[i]);
            }
            printf(" %d", root-&gt;keys[i]);
        }
        if (!root-&gt;leaf) {
            traverse(root-&gt;children[i]);
        }
    }
}

BTreeNode *search(BTreeNode *root, int k) {
    int i = 0;
    while (i &lt; root-&gt;n &amp;&amp; k &gt; root-&gt;keys[i]) {
        i++;
    }
    if (i &lt; root-&gt;n &amp;&amp; root-&gt;keys[i] == k) {
        return root;
    }
    if (root-&gt;leaf) {
        return NULL;
    }
    return search(root-&gt;children[i], k);
}

void insertNonFull(BTreeNode *node, int k) {
    int i = node-&gt;n - 1;
    if (node-&gt;leaf) {
        while (i &gt;= 0 &amp;&amp; node-&gt;keys[i] &gt; k) {
            node-&gt;keys[i + 1] = node-&gt;keys[i];
            i--;
        }
        node-&gt;keys[i + 1] = k;
        node-&gt;n++;
    } else {
        while (i &gt;= 0 &amp;&amp; node-&gt;keys[i] &gt; k) {
            i--;
        }
        i++;
        if (node-&gt;children[i]-&gt;n == 2 * node-&gt;t - 1) {
            splitChild(node, i);
            if (node-&gt;keys[i] &lt; k) {
                i++;
            }
        }
        insertNonFull(node-&gt;children[i], k);
    }
}

void splitChild(BTreeNode *node, int i) {
    int t = node-&gt;t;
    BTreeNode *z = createNode(t, node-&gt;children[i]-&gt;leaf);
    BTreeNode *y = node-&gt;children[i];
    z-&gt;n = t - 1;
    for (int j = 0; j &lt; t - 1; j++) {
        z-&gt;keys[j] = y-&gt;keys[j + t];
    }
    if (!y-&gt;leaf) {
        for (int j = 0; j &lt; t; j++) {
            z-&gt;children[j] = y-&gt;children[j + t];
        }
    }
    y-&gt;n = t - 1;
    for (int j = node-&gt;n; j &gt;= i + 1; j--) {
        node-&gt;children[j + 1] = node-&gt;children[j];
    }
    node-&gt;children[i + 1] = z;
    for (int j = node-&gt;n - 1; j &gt;= i; j--) {
        node-&gt;keys[j + 1] = node-&gt;keys[j];
    }
    node-&gt;keys[i] = y-&gt;keys[t - 1];
    node-&gt;n++;
}

void insert(BTreeNode **root, int k, int t) {
    if (*root == NULL) {
        *root = createNode(t, 1);
        (*root)-&gt;keys[0] = k;
        (*root)-&gt;n = 1;
    } else {
        if ((*root)-&gt;n == 2 * t - 1) {
            BTreeNode *s = createNode(t, 0);
            s-&gt;children[0] = *root;
            splitChild(s, 0);
            int i = 0;
            if (s-&gt;keys[0] &lt; k) {
                i++;
            }
            insertNonFull(s-&gt;children[i], k);
            *root = s;
        } else {
            insertNonFull(*root, k);
        }
    }
}

int main() {
    BTreeNode *root = NULL;
    int t = 3;
    int keys[] = {10, 20, 5, 6, 12, 30, 7, 17};
    for (int i = 0; i &lt; sizeof(keys) / sizeof(keys[0]); i++) {
        insert(&amp;root, keys[i], t);
    }

    printf("Traversal of the constructed B-tree is:");
    traverse(root);
    printf("\n");

    int k = 6;
    (search(root, k) != NULL) ? printf("Present\n") : printf("Not Present\n");

    k = 15;
    (search(root, k) != NULL) ? printf("Present\n") : printf("Not Present\n");

    return 0;
}</stdlib.h></stdio.h>